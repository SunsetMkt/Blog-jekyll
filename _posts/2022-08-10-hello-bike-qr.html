---
title: "哈罗单车：根据单车编号生成二维码"
date: 2022-08-10
tags: demo 前端 JavaScript QRCode
categories: demo
layout: pure
---

应用场合：二维码损毁但编号仍清晰。

<script src="https://www.unpkg.com/qrcodejs@1.0.0/jquery.min.js"></script>
<script src="https://www.unpkg.com/qrcodejs@1.0.0/qrcode.min.js"></script>

<style>
  #qrcode {
    width: 160px;
    height: 160px;
    margin-top: 15px;
  }
</style>

<input
  id="text"
  type="text"
  value="http://c3x.me/?n=单车编号"
  style="width: 80%"
/><br />
<div id="qrcode"></div>

<script>
  var qrcode = new QRCode("qrcode");

  function makeCode() {
    var elText = document.getElementById("text");

    if (!elText.value) {
      alert("Input a text");
      elText.focus();
      return;
    }

    qrcode.makeCode(elText.value);
  }

  makeCode();

  $("#text")
    .on("blur", function () {
      makeCode();
    })
    .on("keydown", function (e) {
      if (e.keyCode == 13) {
        makeCode();
      }
    });
</script>
